{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\n\n/**\r\n * Preloads images aggressively - loads immediately and when section becomes visible\r\n * @param {Array} imageUrls - Array of image URLs to preload\r\n * @param {boolean} isVisible - Whether the section is visible\r\n */\nexport const useImagePreloader = (imageUrls, isVisible) => {\n  _s();\n  const preloadedRef = useRef(new Set());\n  useEffect(() => {\n    if (!imageUrls || imageUrls.length === 0) return;\n\n    // Preload images immediately on mount (deferred slightly to not block initial render)\n    const preloadImages = () => {\n      imageUrls.forEach(url => {\n        if (!url || preloadedRef.current.has(url)) return;\n        preloadedRef.current.add(url);\n\n        // Create prefetch link\n        const link = document.createElement('link');\n        link.rel = 'prefetch';\n        link.as = 'image';\n        link.href = url;\n        document.head.appendChild(link);\n\n        // Force browser to fetch by creating Image object\n        const img = new Image();\n        img.src = url;\n      });\n    };\n\n    // Start preloading immediately (deferred by 50ms to not block initial render)\n    if (typeof requestIdleCallback !== 'undefined') {\n      requestIdleCallback(preloadImages, {\n        timeout: 50\n      });\n    } else {\n      setTimeout(preloadImages, 50);\n    }\n\n    // Also preload when section becomes visible (redundant but ensures loading)\n    if (isVisible) {\n      preloadImages();\n    }\n  }, [imageUrls, isVisible]);\n};\n_s(useImagePreloader, \"0PKl48wqGo7trjd4Da2aF5EjwFE=\");","map":{"version":3,"names":["useEffect","useRef","useImagePreloader","imageUrls","isVisible","_s","preloadedRef","Set","length","preloadImages","forEach","url","current","has","add","link","document","createElement","rel","as","href","head","appendChild","img","Image","src","requestIdleCallback","timeout","setTimeout"],"sources":["C:/Users/Suraj ITD/Virendra_ITD/Koli-static-Templetes/Koli-static-website-git/Koli_Catch_Website/src/hooks/useImagePreloader.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\n\r\n/**\r\n * Preloads images aggressively - loads immediately and when section becomes visible\r\n * @param {Array} imageUrls - Array of image URLs to preload\r\n * @param {boolean} isVisible - Whether the section is visible\r\n */\r\nexport const useImagePreloader = (imageUrls, isVisible) => {\r\n  const preloadedRef = useRef(new Set());\r\n\r\n  useEffect(() => {\r\n    if (!imageUrls || imageUrls.length === 0) return;\r\n\r\n    // Preload images immediately on mount (deferred slightly to not block initial render)\r\n    const preloadImages = () => {\r\n      imageUrls.forEach((url) => {\r\n        if (!url || preloadedRef.current.has(url)) return;\r\n        \r\n        preloadedRef.current.add(url);\r\n        \r\n        // Create prefetch link\r\n        const link = document.createElement('link');\r\n        link.rel = 'prefetch';\r\n        link.as = 'image';\r\n        link.href = url;\r\n        document.head.appendChild(link);\r\n\r\n        // Force browser to fetch by creating Image object\r\n        const img = new Image();\r\n        img.src = url;\r\n      });\r\n    };\r\n\r\n    // Start preloading immediately (deferred by 50ms to not block initial render)\r\n    if (typeof requestIdleCallback !== 'undefined') {\r\n      requestIdleCallback(preloadImages, { timeout: 50 });\r\n    } else {\r\n      setTimeout(preloadImages, 50);\r\n    }\r\n\r\n    // Also preload when section becomes visible (redundant but ensures loading)\r\n    if (isVisible) {\r\n      preloadImages();\r\n    }\r\n  }, [imageUrls, isVisible]);\r\n};\r\n\r\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;;AAEzC;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAGA,CAACC,SAAS,EAAEC,SAAS,KAAK;EAAAC,EAAA;EACzD,MAAMC,YAAY,GAAGL,MAAM,CAAC,IAAIM,GAAG,CAAC,CAAC,CAAC;EAEtCP,SAAS,CAAC,MAAM;IACd,IAAI,CAACG,SAAS,IAAIA,SAAS,CAACK,MAAM,KAAK,CAAC,EAAE;;IAE1C;IACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;MAC1BN,SAAS,CAACO,OAAO,CAAEC,GAAG,IAAK;QACzB,IAAI,CAACA,GAAG,IAAIL,YAAY,CAACM,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,EAAE;QAE3CL,YAAY,CAACM,OAAO,CAACE,GAAG,CAACH,GAAG,CAAC;;QAE7B;QACA,MAAMI,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;QAC3CF,IAAI,CAACG,GAAG,GAAG,UAAU;QACrBH,IAAI,CAACI,EAAE,GAAG,OAAO;QACjBJ,IAAI,CAACK,IAAI,GAAGT,GAAG;QACfK,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;;QAE/B;QACA,MAAMQ,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;QACvBD,GAAG,CAACE,GAAG,GAAGd,GAAG;MACf,CAAC,CAAC;IACJ,CAAC;;IAED;IACA,IAAI,OAAOe,mBAAmB,KAAK,WAAW,EAAE;MAC9CA,mBAAmB,CAACjB,aAAa,EAAE;QAAEkB,OAAO,EAAE;MAAG,CAAC,CAAC;IACrD,CAAC,MAAM;MACLC,UAAU,CAACnB,aAAa,EAAE,EAAE,CAAC;IAC/B;;IAEA;IACA,IAAIL,SAAS,EAAE;MACbK,aAAa,CAAC,CAAC;IACjB;EACF,CAAC,EAAE,CAACN,SAAS,EAAEC,SAAS,CAAC,CAAC;AAC5B,CAAC;AAACC,EAAA,CAtCWH,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}