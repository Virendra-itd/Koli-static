{"ast":null,"code":"/**\r\n * Global image preloader - preloads all images on page load\r\n */\n\nconst imageCache = new Set();\nexport const preloadImage = url => {\n  if (!url || imageCache.has(url)) return;\n  imageCache.add(url);\n\n  // Create prefetch link\n  const link = document.createElement('link');\n  link.rel = 'prefetch';\n  link.as = 'image';\n  link.href = url;\n  document.head.appendChild(link);\n\n  // Force browser to fetch by creating Image object with onload to ensure fetch\n  const img = new Image();\n  img.onload = () => {\n    // Image loaded successfully\n  };\n  img.onerror = () => {\n    // Image failed to load, but that's okay\n  };\n  img.src = url;\n};\nexport const preloadImages = urls => {\n  if (!urls || urls.length === 0) return;\n\n  // Batch load images with slight delay between batches to avoid overwhelming\n  urls.forEach((url, index) => {\n    // Small stagger to avoid blocking, but very fast\n    setTimeout(() => {\n      preloadImage(url);\n    }, index * 5); // 5ms delay between each image\n  });\n};\n\n// Preload critical images on page load\nif (typeof window !== 'undefined') {\n  // Wait for page to be interactive\n  if (document.readyState === 'complete') {\n    // Page already loaded, preload immediately\n    setTimeout(() => {\n      // Preload will be done by components, but we can add more here if needed\n    }, 100);\n  } else {\n    window.addEventListener('load', () => {\n      setTimeout(() => {\n        // Preload will be done by components\n      }, 100);\n    });\n  }\n}","map":{"version":3,"names":["imageCache","Set","preloadImage","url","has","add","link","document","createElement","rel","as","href","head","appendChild","img","Image","onload","onerror","src","preloadImages","urls","length","forEach","index","setTimeout","window","readyState","addEventListener"],"sources":["C:/Users/Suraj ITD/Virendra_ITD/Koli-static-Templetes/Koli-static-website-git/Koli_Catch_Website/src/utils/imagePreloader.js"],"sourcesContent":["/**\r\n * Global image preloader - preloads all images on page load\r\n */\r\n\r\nconst imageCache = new Set();\r\n\r\nexport const preloadImage = (url) => {\r\n  if (!url || imageCache.has(url)) return;\r\n  \r\n  imageCache.add(url);\r\n  \r\n  // Create prefetch link\r\n  const link = document.createElement('link');\r\n  link.rel = 'prefetch';\r\n  link.as = 'image';\r\n  link.href = url;\r\n  document.head.appendChild(link);\r\n\r\n  // Force browser to fetch by creating Image object with onload to ensure fetch\r\n  const img = new Image();\r\n  img.onload = () => {\r\n    // Image loaded successfully\r\n  };\r\n  img.onerror = () => {\r\n    // Image failed to load, but that's okay\r\n  };\r\n  img.src = url;\r\n};\r\n\r\nexport const preloadImages = (urls) => {\r\n  if (!urls || urls.length === 0) return;\r\n  \r\n  // Batch load images with slight delay between batches to avoid overwhelming\r\n  urls.forEach((url, index) => {\r\n    // Small stagger to avoid blocking, but very fast\r\n    setTimeout(() => {\r\n      preloadImage(url);\r\n    }, index * 5); // 5ms delay between each image\r\n  });\r\n};\r\n\r\n// Preload critical images on page load\r\nif (typeof window !== 'undefined') {\r\n  // Wait for page to be interactive\r\n  if (document.readyState === 'complete') {\r\n    // Page already loaded, preload immediately\r\n    setTimeout(() => {\r\n      // Preload will be done by components, but we can add more here if needed\r\n    }, 100);\r\n  } else {\r\n    window.addEventListener('load', () => {\r\n      setTimeout(() => {\r\n        // Preload will be done by components\r\n      }, 100);\r\n    });\r\n  }\r\n}\r\n\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,MAAMA,UAAU,GAAG,IAAIC,GAAG,CAAC,CAAC;AAE5B,OAAO,MAAMC,YAAY,GAAIC,GAAG,IAAK;EACnC,IAAI,CAACA,GAAG,IAAIH,UAAU,CAACI,GAAG,CAACD,GAAG,CAAC,EAAE;EAEjCH,UAAU,CAACK,GAAG,CAACF,GAAG,CAAC;;EAEnB;EACA,MAAMG,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;EAC3CF,IAAI,CAACG,GAAG,GAAG,UAAU;EACrBH,IAAI,CAACI,EAAE,GAAG,OAAO;EACjBJ,IAAI,CAACK,IAAI,GAAGR,GAAG;EACfI,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC;;EAE/B;EACA,MAAMQ,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;EACvBD,GAAG,CAACE,MAAM,GAAG,MAAM;IACjB;EAAA,CACD;EACDF,GAAG,CAACG,OAAO,GAAG,MAAM;IAClB;EAAA,CACD;EACDH,GAAG,CAACI,GAAG,GAAGf,GAAG;AACf,CAAC;AAED,OAAO,MAAMgB,aAAa,GAAIC,IAAI,IAAK;EACrC,IAAI,CAACA,IAAI,IAAIA,IAAI,CAACC,MAAM,KAAK,CAAC,EAAE;;EAEhC;EACAD,IAAI,CAACE,OAAO,CAAC,CAACnB,GAAG,EAAEoB,KAAK,KAAK;IAC3B;IACAC,UAAU,CAAC,MAAM;MACftB,YAAY,CAACC,GAAG,CAAC;IACnB,CAAC,EAAEoB,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC;AACJ,CAAC;;AAED;AACA,IAAI,OAAOE,MAAM,KAAK,WAAW,EAAE;EACjC;EACA,IAAIlB,QAAQ,CAACmB,UAAU,KAAK,UAAU,EAAE;IACtC;IACAF,UAAU,CAAC,MAAM;MACf;IAAA,CACD,EAAE,GAAG,CAAC;EACT,CAAC,MAAM;IACLC,MAAM,CAACE,gBAAgB,CAAC,MAAM,EAAE,MAAM;MACpCH,UAAU,CAAC,MAAM;QACf;MAAA,CACD,EAAE,GAAG,CAAC;IACT,CAAC,CAAC;EACJ;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}