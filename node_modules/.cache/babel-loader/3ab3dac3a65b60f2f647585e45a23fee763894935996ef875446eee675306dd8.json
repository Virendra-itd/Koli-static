{"ast":null,"code":"import{useEffect,useRef}from'react';/**\r\n * Preloads images aggressively - loads immediately and when section becomes visible\r\n * @param {Array} imageUrls - Array of image URLs to preload\r\n * @param {boolean} isVisible - Whether the section is visible\r\n */export const useImagePreloader=(imageUrls,isVisible)=>{const preloadedRef=useRef(new Set());useEffect(()=>{if(!imageUrls||imageUrls.length===0)return;// Preload images immediately on mount (deferred slightly to not block initial render)\nconst preloadImages=()=>{imageUrls.forEach(url=>{if(!url||preloadedRef.current.has(url))return;preloadedRef.current.add(url);// Create prefetch link\nconst link=document.createElement('link');link.rel='prefetch';link.as='image';link.href=url;document.head.appendChild(link);// Force browser to fetch by creating Image object\nconst img=new Image();img.src=url;});};// Start preloading immediately (deferred by 50ms to not block initial render)\nif(typeof requestIdleCallback!=='undefined'){requestIdleCallback(preloadImages,{timeout:50});}else{setTimeout(preloadImages,50);}// Also preload when section becomes visible (redundant but ensures loading)\nif(isVisible){preloadImages();}},[imageUrls,isVisible]);};","map":{"version":3,"names":["useEffect","useRef","useImagePreloader","imageUrls","isVisible","preloadedRef","Set","length","preloadImages","forEach","url","current","has","add","link","document","createElement","rel","as","href","head","appendChild","img","Image","src","requestIdleCallback","timeout","setTimeout"],"sources":["C:/Users/Suraj ITD/Virendra_ITD/Koli-static-Templetes/Koli-static-website-git/Koli_Catch_Website/src/hooks/useImagePreloader.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\n\r\n/**\r\n * Preloads images aggressively - loads immediately and when section becomes visible\r\n * @param {Array} imageUrls - Array of image URLs to preload\r\n * @param {boolean} isVisible - Whether the section is visible\r\n */\r\nexport const useImagePreloader = (imageUrls, isVisible) => {\r\n  const preloadedRef = useRef(new Set());\r\n\r\n  useEffect(() => {\r\n    if (!imageUrls || imageUrls.length === 0) return;\r\n\r\n    // Preload images immediately on mount (deferred slightly to not block initial render)\r\n    const preloadImages = () => {\r\n      imageUrls.forEach((url) => {\r\n        if (!url || preloadedRef.current.has(url)) return;\r\n        \r\n        preloadedRef.current.add(url);\r\n        \r\n        // Create prefetch link\r\n        const link = document.createElement('link');\r\n        link.rel = 'prefetch';\r\n        link.as = 'image';\r\n        link.href = url;\r\n        document.head.appendChild(link);\r\n\r\n        // Force browser to fetch by creating Image object\r\n        const img = new Image();\r\n        img.src = url;\r\n      });\r\n    };\r\n\r\n    // Start preloading immediately (deferred by 50ms to not block initial render)\r\n    if (typeof requestIdleCallback !== 'undefined') {\r\n      requestIdleCallback(preloadImages, { timeout: 50 });\r\n    } else {\r\n      setTimeout(preloadImages, 50);\r\n    }\r\n\r\n    // Also preload when section becomes visible (redundant but ensures loading)\r\n    if (isVisible) {\r\n      preloadImages();\r\n    }\r\n  }, [imageUrls, isVisible]);\r\n};\r\n\r\n"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEzC;AACA;AACA;AACA;AACA,GACA,MAAO,MAAM,CAAAC,iBAAiB,CAAGA,CAACC,SAAS,CAAEC,SAAS,GAAK,CACzD,KAAM,CAAAC,YAAY,CAAGJ,MAAM,CAAC,GAAI,CAAAK,GAAG,CAAC,CAAC,CAAC,CAEtCN,SAAS,CAAC,IAAM,CACd,GAAI,CAACG,SAAS,EAAIA,SAAS,CAACI,MAAM,GAAK,CAAC,CAAE,OAE1C;AACA,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1BL,SAAS,CAACM,OAAO,CAAEC,GAAG,EAAK,CACzB,GAAI,CAACA,GAAG,EAAIL,YAAY,CAACM,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAAE,OAE3CL,YAAY,CAACM,OAAO,CAACE,GAAG,CAACH,GAAG,CAAC,CAE7B;AACA,KAAM,CAAAI,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC,CAC3CF,IAAI,CAACG,GAAG,CAAG,UAAU,CACrBH,IAAI,CAACI,EAAE,CAAG,OAAO,CACjBJ,IAAI,CAACK,IAAI,CAAGT,GAAG,CACfK,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACP,IAAI,CAAC,CAE/B;AACA,KAAM,CAAAQ,GAAG,CAAG,GAAI,CAAAC,KAAK,CAAC,CAAC,CACvBD,GAAG,CAACE,GAAG,CAAGd,GAAG,CACf,CAAC,CAAC,CACJ,CAAC,CAED;AACA,GAAI,MAAO,CAAAe,mBAAmB,GAAK,WAAW,CAAE,CAC9CA,mBAAmB,CAACjB,aAAa,CAAE,CAAEkB,OAAO,CAAE,EAAG,CAAC,CAAC,CACrD,CAAC,IAAM,CACLC,UAAU,CAACnB,aAAa,CAAE,EAAE,CAAC,CAC/B,CAEA;AACA,GAAIJ,SAAS,CAAE,CACbI,aAAa,CAAC,CAAC,CACjB,CACF,CAAC,CAAE,CAACL,SAAS,CAAEC,SAAS,CAAC,CAAC,CAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}